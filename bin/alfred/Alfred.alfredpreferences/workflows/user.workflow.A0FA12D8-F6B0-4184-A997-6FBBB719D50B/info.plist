<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>carlosnz.timezones</string>
	<key>connections</key>
	<dict>
		<key>0C80DC80-B943-48B3-82D3-1D5B0B37BB74</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>3E37F651-EEB7-451F-B0AD-28710998F443</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>3E37F651-EEB7-451F-B0AD-28710998F443</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>075CB49C-D3B5-4699-9B92-B421D704333D</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>5E6BA0B3-802A-486E-8413-6F92609B321B</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>3E37F651-EEB7-451F-B0AD-28710998F443</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>814F7D3F-03F9-4248-8308-ECA4D3792F3F</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>E8F7A1D7-00B7-44A7-9C43-3AFA322C666E</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>942CCE71-9883-4AB2-A558-B5A44993DF3B</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>BC542037-8795-4FE1-8534-AF381F4197FC</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>AAA84F5F-2F96-4126-A840-9CD676BDD208</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>075CB49C-D3B5-4699-9B92-B421D704333D</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>B3D2103A-E31D-454E-BD6E-8F13020AC68D</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>075CB49C-D3B5-4699-9B92-B421D704333D</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>BD27CF53-3880-47C9-9AAC-4B443E7BA1BD</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>F15F2405-5743-4407-9BFF-A45E6783BA88</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>BFC9E74C-8EB5-4863-8FE6-44AC5AE9427A</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>B3D2103A-E31D-454E-BD6E-8F13020AC68D</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>E8F7A1D7-00B7-44A7-9C43-3AFA322C666E</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>075CB49C-D3B5-4699-9B92-B421D704333D</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
		</array>
		<key>F15F2405-5743-4407-9BFF-A45E6783BA88</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>942CCE71-9883-4AB2-A558-B5A44993DF3B</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
			</dict>
			<dict>
				<key>destinationuid</key>
				<string>AAA84F5F-2F96-4126-A840-9CD676BDD208</string>
				<key>modifiers</key>
				<integer>524288</integer>
				<key>modifiersubtext</key>
				<string>Remove this locale</string>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>Carl Smith</string>
	<key>description</key>
	<string>A World Clock for Alfred</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>TimeZones v1.7.0</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>action</key>
				<integer>0</integer>
				<key>argument</key>
				<integer>0</integer>
				<key>hotkey</key>
				<integer>0</integer>
				<key>hotmod</key>
				<integer>0</integer>
				<key>leftcursor</key>
				<false/>
				<key>modsmode</key>
				<integer>0</integer>
				<key>relatedAppsMode</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.trigger.hotkey</string>
			<key>uid</key>
			<string>BD27CF53-3880-47C9-9AAC-4B443E7BA1BD</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>0</integer>
				<key>script</key>
				<string>x="{query}"
IFS='|'
data=($x)

city="${data[0]}"
city_time="${data[1]}"
city_date="${data[2]}"
country="${data[3]}"
tz_name="${data[4]}"
UTC_offset="${data[5]}"

echo "Current time in $city, $country:"$'\n'"$city_time on $city_date"$'\n'" • $tz_name ($UTC_offset)"</string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>942CCE71-9883-4AB2-A558-B5A44993DF3B</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argumenttype</key>
				<integer>1</integer>
				<key>escaping</key>
				<integer>0</integer>
				<key>keyword</key>
				<string>tz</string>
				<key>queuedelaycustom</key>
				<integer>1</integer>
				<key>queuedelayimmediatelyinitially</key>
				<false/>
				<key>queuedelaymode</key>
				<integer>0</integer>
				<key>queuemode</key>
				<integer>1</integer>
				<key>runningsubtext</key>
				<string>Fetching time data...</string>
				<key>script</key>
				<string>./timezone_list.sh "{query}"</string>
				<key>subtext</key>
				<string>Display current time in various worldwide cities</string>
				<key>title</key>
				<string>TimeZones</string>
				<key>type</key>
				<integer>0</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>F15F2405-5743-4407-9BFF-A45E6783BA88</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>type</key>
			<string>alfred.workflow.output.largetype</string>
			<key>uid</key>
			<string>BC542037-8795-4FE1-8534-AF381F4197FC</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argumenttype</key>
				<integer>0</integer>
				<key>keyword</key>
				<string>timezone add</string>
				<key>subtext</key>
				<string>Add a city to your TimeZones cities list</string>
				<key>text</key>
				<string>New city?</string>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.keyword</string>
			<key>uid</key>
			<string>5E6BA0B3-802A-486E-8413-6F92609B321B</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>0</integer>
				<key>script</key>
				<string>./remove_city.sh "{query}"</string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>AAA84F5F-2F96-4126-A840-9CD676BDD208</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>lastpathcomponent</key>
				<false/>
				<key>onlyshowifquerypopulated</key>
				<true/>
				<key>output</key>
				<integer>0</integer>
				<key>removeextension</key>
				<false/>
				<key>sticky</key>
				<false/>
				<key>text</key>
				<string>{query}</string>
				<key>title</key>
				<string>Timezones</string>
			</dict>
			<key>type</key>
			<string>alfred.workflow.output.notification</string>
			<key>uid</key>
			<string>075CB49C-D3B5-4699-9B92-B421D704333D</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>0</integer>
				<key>script</key>
				<string>./add_city.sh "{query}"</string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>3E37F651-EEB7-451F-B0AD-28710998F443</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argumenttype</key>
				<integer>0</integer>
				<key>escaping</key>
				<integer>0</integer>
				<key>queuedelaycustom</key>
				<integer>1</integer>
				<key>queuedelayimmediatelyinitially</key>
				<false/>
				<key>queuedelaymode</key>
				<integer>0</integer>
				<key>queuemode</key>
				<integer>1</integer>
				<key>runningsubtext</key>
				<string>Getting locations...</string>
				<key>script</key>
				<string>./input_city.sh "{query}"</string>
				<key>subtext</key>
				<string>Add a city to your TimeZones cities list</string>
				<key>title</key>
				<string>New city?</string>
				<key>type</key>
				<integer>0</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>0C80DC80-B943-48B3-82D3-1D5B0B37BB74</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>63</integer>
				<key>script</key>
				<string>./update.sh</string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>B3D2103A-E31D-454E-BD6E-8F13020AC68D</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argumenttype</key>
				<integer>2</integer>
				<key>keyword</key>
				<string>timezone update</string>
				<key>subtext</key>
				<string>This may take a few moments.</string>
				<key>text</key>
				<string>Update all TimeZone info online</string>
				<key>withspace</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.keyword</string>
			<key>uid</key>
			<string>BFC9E74C-8EB5-4863-8FE6-44AC5AE9427A</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>concurrently</key>
				<false/>
				<key>escaping</key>
				<integer>63</integer>
				<key>script</key>
				<string>./move.sh</string>
				<key>type</key>
				<integer>0</integer>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.script</string>
			<key>uid</key>
			<string>E8F7A1D7-00B7-44A7-9C43-3AFA322C666E</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>argumenttype</key>
				<integer>2</integer>
				<key>keyword</key>
				<string>timezone move</string>
				<key>subtext</key>
				<string>Change storage location for your Timezone list</string>
				<key>text</key>
				<string>Move Timezone list</string>
				<key>withspace</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.keyword</string>
			<key>uid</key>
			<string>814F7D3F-03F9-4248-8308-ECA4D3792F3F</string>
			<key>version</key>
			<integer>0</integer>
		</dict>
	</array>
	<key>readme</key>
	<string>TimeZones v1.7
22 March 2014

=====
USAGE
=====

Keyword: tz (or hotkey) - bring up the list of saved cities with their respective current times. (Keep typing the name of a place for a one-off lookup.)

Keyword: timezone add [your city] - add your city to the list. (To remove a city, option-select it from the main list.)

Keyword: timezone update - refresh timezone data for all saved cities.

Keyword: timezone move - move the saved cities file (timezones.txt) to a location of your choice (so you can sync it in your Dropbox or whatever you want).

=======
CREDITS
=======

Geocoding and Timezone information from Google Maps APIs:
https://developers.google.com/maps/documentation/webservices/

Flag icons from: http://www.free-country-flags.com
(Creative Commons Attribution-ShareAlike 3.0 Unported License.)

Workflow icon credit: Oliver Scholtz (http://schollidesign.deviantart.com/art/Human-O2-Iconset-105344123)

=========
CHANGELOG
=========

v1.7
22 March 2014

* City List now always shows in the same order. (Achieved by removing “uid” parameter.)

v1.61a
16 March 2014

*Removed Alleyoop update.json file. That’s all.

v1.61
2 April 2013

*Small fix for Netherlands flag matching.

v1.6
31 March 2013

* Now supports custom "one-off" lookups for places you don't want to permanently add to your main list. Just keep typing the place name after the "tz" keyword (or hotkey) - as soon as it doesn't match any of the places in your list, it will look up the custom place you've entered.
* Added support for phyllisstein's Alleyoop auto-updater. (http://www.alfredforum.com/topic/1582-alleyoop-update-alfred-workflows/)
* [EXPERIMENTAL] - support for autocomplete for adding place names. You'll need to add a keyword yourself to the script filter if you want to try it out. The reason I haven't enabled it by default is that I've found it kind of slow and I'm not sure it's actually an improvement over the current method. Let me know what you think.
* Added (unofficial) Antarctica flag to flag repository. (Try tz south pole. ;) )

v1.5  
28 March 2013

* Major overhaul to now use Google's Geocoding API and Timezone API to acquire the required data. Should be a **lot** more reliable and consistent, as well as more flexible with input names.
* Flag icons! The workflow compares the returned country name with a bundled repository of flag icons and does a simple name match. Please report any missing or incorrect flag errors you encounter so I can improve the workflow.
* More data retrieved and displayed, including Timezone name, country, etc.
* When doing a full "update", a text file is saved to the Desktop showing which cities have changed.
* General enhancements and tweaks.

v1.4  
20 Mar 2013

* You can now move your list of saved cities to a file location of your choice (eg. Dropbox, to sync between machines). Keyword: timezone move

v1.3  
18 Feb 2013

* Fixes to account for changes to the Wolfram Alpha API
* When doing a full "update", it won't fail the whole update if one city fails. A list of failed updates is saved to your Desktop.

v1.2  
4 Feb 2013

* fixes to make "update" work better/properly/at all.

v1.1  
3 Feb 2013

* Fixed the problem with cities with half-hour UTC offsets (eg. Adelaide—UTC+10.5, New Delhi—UTC+5.5
* You can search the list of displayed cities (useful if you've got a lot) — just start typing after the "tz"
* Hotkey to launch the list (set to Ctrl-Z by default)

v1.0  
2 Feb 2013

* Initial release</string>
	<key>uidata</key>
	<dict>
		<key>075CB49C-D3B5-4699-9B92-B421D704333D</key>
		<dict>
			<key>ypos</key>
			<real>120</real>
		</dict>
		<key>0C80DC80-B943-48B3-82D3-1D5B0B37BB74</key>
		<dict>
			<key>ypos</key>
			<real>240</real>
		</dict>
		<key>3E37F651-EEB7-451F-B0AD-28710998F443</key>
		<dict>
			<key>ypos</key>
			<real>240</real>
		</dict>
		<key>5E6BA0B3-802A-486E-8413-6F92609B321B</key>
		<dict>
			<key>ypos</key>
			<real>120</real>
		</dict>
		<key>814F7D3F-03F9-4248-8308-ECA4D3792F3F</key>
		<dict>
			<key>ypos</key>
			<real>480</real>
		</dict>
		<key>942CCE71-9883-4AB2-A558-B5A44993DF3B</key>
		<dict>
			<key>ypos</key>
			<real>10</real>
		</dict>
		<key>AAA84F5F-2F96-4126-A840-9CD676BDD208</key>
		<dict>
			<key>ypos</key>
			<real>120</real>
		</dict>
		<key>B3D2103A-E31D-454E-BD6E-8F13020AC68D</key>
		<dict>
			<key>ypos</key>
			<real>360</real>
		</dict>
		<key>BC542037-8795-4FE1-8534-AF381F4197FC</key>
		<dict>
			<key>ypos</key>
			<real>10</real>
		</dict>
		<key>BD27CF53-3880-47C9-9AAC-4B443E7BA1BD</key>
		<dict>
			<key>ypos</key>
			<real>10</real>
		</dict>
		<key>BFC9E74C-8EB5-4863-8FE6-44AC5AE9427A</key>
		<dict>
			<key>ypos</key>
			<real>360</real>
		</dict>
		<key>E8F7A1D7-00B7-44A7-9C43-3AFA322C666E</key>
		<dict>
			<key>ypos</key>
			<real>480</real>
		</dict>
		<key>F15F2405-5743-4407-9BFF-A45E6783BA88</key>
		<dict>
			<key>ypos</key>
			<real>10</real>
		</dict>
	</dict>
	<key>webaddress</key>
	<string>http://geekzone.philosophicalzombie.net/</string>
</dict>
</plist>
